(this.webpackJsonptrivia=this.webpackJsonptrivia||[]).push([[0],{29:function(e,t,a){e.exports=a(48)},40:function(e,t,a){},41:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(9),c=a.n(i),s=a(12),o=(a(40),a(41),a(42),a(21)),l=a(22),u=a(27),v=a(23),m=a(28);var E="TRIVIA_LOADER",d="TRIVIA_QUIZ",p="TRIVIA_RESULT",h=a(13),T=a.n(h);function f(e){var t=e.props,a=t.triviaList,n=t.currentTriviaIndex,i=t.setSelectedAnswer,c=t.selectedOptions,s=t.gotoNextQuestion,o=t.gotoPreviousQuestion,l=t.setTotalScore,u=a.length&&a[n];return r.a.createElement("div",{className:"flex-item"},r.a.createElement("h3",{className:"is-size-6 has-text-centered"},"Round ",n+1,"/ ",a.length),r.a.createElement("h1",{className:"is-size-1 has-text-centered mb1"},r.a.createElement(T.a,null,r.a.createElement(T.a.Minutes,null),":",r.a.createElement(T.a.Seconds,null))),r.a.createElement("div",{className:"trivia-main-section mb2"},r.a.createElement("h2",{className:"is-size-3 question wrapword has-text-centered mb2"},u.question),r.a.createElement("div",{className:"columns is-multiline is-variable is-7"},u.options.map((function(e,t){return r.a.createElement("div",{key:t,className:"column is-half",onClick:function(){return i({key:n,value:e})}},r.a.createElement("div",{className:"answer-item "+(c[n]===e?"active":"")},r.a.createElement("span",null,e)))})))),r.a.createElement("div",null,r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-right"},r.a.createElement("button",{className:"button is-secondory",disabled:0===n,onClick:o},"Previous"),r.a.createElement("button",{className:"button is-primary ml1",disabled:n===a.length-1,onClick:s},"Next"),r.a.createElement("button",{className:"button is-primary ml1",onClick:function(){return l(c,a)}},"Submit"))),r.a.createElement("h6",{className:"is-size-5 has-text-centered"},"Select correct answer. One entry per round")))}function O(){return r.a.createElement("div",{className:"has-text-centered"},"Loading...")}function b(e){return r.a.createElement("div",{className:"result","v-if":"currentView === 'result'"},r.a.createElement("h2",{className:"is-size-3 has-text-centered"},"Congratulations! You successfully completed this trivia."),r.a.createElement("h1",{className:"is-size-1 has-text-centered"},"Total score: ",e.totalScore," "))}var I=function(e){var t=e.triviaView,a=e.totalScore,n=E,i=d,c=p;return r.a.createElement("div",{className:"flex-item"},t===n&&r.a.createElement(O,null),t===i&&r.a.createElement(f,{props:e}),t===c&&r.a.createElement(b,{totalScore:a}))},_=a(4),y=a(26),N=a(24);var R=Object(N.a)((function(e){return e.trivia.triviaList}),(function(e){return e.map((function(e){var t,a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}return e}((t=e)&&[t.correct_answer].concat(Object(y.a)(t.incorrect_answers)));return Object(_.a)({},e,{options:a})}))})),A=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getData()}},{key:"render",value:function(){return r.a.createElement(I,this.props)}},{key:"onAnswerSelect",value:function(){console.log("onAnswerSelect: container")}}]),t}(n.Component),w=Object(s.b)((function(e){var t=e.trivia,a=t.triviaView,n=t.currentTriviaIndex,r=t.selectedOptions,i=t.totalScore;return{triviaList:R(e),currentTriviaIndex:n,triviaView:a,selectedOptions:r,totalScore:i}}),(function(e){return{getData:function(){return e({type:"TRIVIA_DATA_REQUESTED"})},setSelectedAnswer:function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"SET_SELECTED_ANSWER",payload:e}}(t))},gotoNextQuestion:function(){return e({type:"INCREMET_CURRENT_TRIVIA_INDEX"})},gotoPreviousQuestion:function(){return e({type:"DECREMET_CURRENT_TRIVIA_INDEX"})},setTotalScore:function(t,a){var n=function(e,t){var a=0;for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))e[n]===t[n].correct_answer&&(a+=5)}return a}(t,a);e({type:"SET_TOTAL_SCORE",payload:{totalScore:n}}),e(function(e){return{type:"UPDATE_TRIVIA_VIEW",payload:e}}({triviaView:p}))}}}))(A);var g=function(){return r.a.createElement("div",{className:"App bg-gradient"},r.a.createElement("div",{className:"container expand-height"},r.a.createElement("div",{className:"section expand-height"},r.a.createElement("div",{className:"columns is-centered expand-height"},r.a.createElement("div",{className:"column is-8 flex-row is-center"},r.a.createElement(w,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=a(5),j=a(25),x=a(11),D={trivia:{triviaList:[],isLoading:!0,currentTriviaIndex:0,currentTrivia:{},selectedOptions:{},totalScore:0,triviaView:E,countFrom:new Date,totalSeconds:0}};var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TRIVIA_DATA_LOADED":return Object.assign({},e,{trivia:Object(_.a)({},e.trivia,{triviaList:e.trivia.triviaList.concat(t.payload.results)})});case"UPDATE_TRIVIA_VIEW":return Object.assign({},e,{trivia:Object(_.a)({},e.trivia,{triviaView:t.payload.triviaView})});case"SET_SELECTED_ANSWER":return Object.assign({},e,{trivia:Object(_.a)({},e.trivia,{selectedOptions:Object.assign({},e.trivia.selectedOptions,Object(x.a)({},t.payload.key,t.payload.value))})});case"INCREMET_CURRENT_TRIVIA_INDEX":return Object.assign({},e,{trivia:Object(_.a)({},e.trivia,{currentTriviaIndex:e.trivia.currentTriviaIndex+1})});case"DECREMET_CURRENT_TRIVIA_INDEX":return Object.assign({},e,{trivia:Object(_.a)({},e.trivia,{currentTriviaIndex:e.trivia.currentTriviaIndex-1})});case"SET_TOTAL_SCORE":return Object.assign({},e,{trivia:Object(_.a)({},e.trivia,{totalScore:t.payload.totalScore})});default:return e}},C=a(8),k=a.n(C),L=a(6),U=k.a.mark(P),M=k.a.mark(Q);function P(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.d)("TRIVIA_DATA_REQUESTED",Q);case 2:case"end":return e.stop()}}),U)}function Q(){var e,t;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e={triviaView:d},a.next=4,Object(L.b)(W);case 4:return t=a.sent,a.next=7,Object(L.a)([Object(L.c)({type:"TRIVIA_DATA_LOADED",payload:t}),Object(L.c)({type:"UPDATE_TRIVIA_VIEW",payload:e})]);case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(L.c)({type:"TRIVIA_API_ERROR",payload:a.t0});case 13:case"end":return a.stop()}}),M,null,[[0,9]])}function W(){return fetch("https://opentdb.com/api.php?amount=20&category=9&difficulty=easy&type=multiple").then((function(e){return e.json()}))}var z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.c,X=Object(j.a)(),q=Object(S.d)(V,z(Object(S.a)(X)));X.run(P);var B=q;c.a.render(r.a.createElement(s.a,{store:B},r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.c3a08a81.chunk.js.map